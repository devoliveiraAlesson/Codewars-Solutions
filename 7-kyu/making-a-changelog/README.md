<h2><a href=https://www.codewars.com/kata/5eaecb855179590011d2c020/train/sql target="_blank">Making a changelog</a></h2><h3>7 kyu</h3><p>Your job is working with documents: creating, modifying, and deleting them. It is a very important task, so you must also keep a changelog of performed operations. Updating it manually every time is very tedious, so you decided to automate the job.</p><p>You have to do something, so that all the changes done on the <code>documents</code> table are reflected in the <code>documents_changelog</code> table:</p><ol><li>On insert copy the new data into the <code>new_data</code> column</li><li>On update copy the previous data into the <code>old_data</code> and the new data into the <code>new_data</code> columns</li><li>On delete copy the old data into the <code>old_data</code> column</li><li>If the operation has no new/old data to work with, the respective column should store <code>NULL</code></li></ol><p><strong>Note</strong>: the <code>id</code> column of the <code>documents</code> table is autoincrementing, hence when new records will be inserted there by the test code, the <code>id</code>'s will not be provided explicitly - some language features which could be used for solving this kata may not work because of this fact.</p><h2 id="tables">Tables</h2><pre><code>--------------------------------------------|        Table        |   Column    | Type ||---------------------+-------------+------|| documents           | id          | int  ||                     | data        | text ||---------------------+-------------+------|| documents_changelog | id          | int  ||                     | document_id | int  ||                     | old_data    | text ||                     | new_data    | text |--------------------------------------------</code></pre>