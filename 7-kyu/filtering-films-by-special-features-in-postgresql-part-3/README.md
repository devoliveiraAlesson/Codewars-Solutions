<h2><a href=https://www.codewars.com/kata/6456759b00c6791f4342bf18/train/sql target="_blank">Filtering Films by Special Features in PostgreSQL: Part 3</a></h2><h3>7 kyu</h3><p>Write a PostgreSQL query that selects <code>film_id</code>, the <code>title</code> and <code>special_features</code> columns from the film table in the DVD rental database, and returns films that have either "Deleted Scenes" or "Behind the Scenes" as a special feature, but not both - meaning that if there are "Deleted Scenes", there should not be "Behind the Scenes" and vice versa. The query should also exclude films that have "Commentaries" as a special feature.</p><h5 id="notes">Notes:</h5><ul><li>for the sample tests, static dump of <a href="http://www.postgresqltutorial.com/postgresql-sample-database/" data-turbolinks="false" target="_blank">DVD Rental Sample Database</a> is used, for the final solution - random tests.</li><li>The result should be order by title alphabetically, if title is the same - then by film_id in asc order.</li><li><code>special_features</code> is the <code>text[]</code> type. It represents a one-dimensional array of values, where each value is of the text data type.</li></ul><h3 id="schema">Schema:</h3><h4 id="film-table"><code>film</code> table:</h4><pre><code>Column            | Type      | Modifiers------------------+-----------+-----------film_id           | integer   | not nulltitle             | varchar   | not nulldescription       | text      | not nullrelease_year      | integer   | not nulllanguage_id       | integer   | not null rental_duration   | integer   | not nullrental_rate       | numeric   | not nulllength            | integer   | not nullreplacement_cost  | numeric   | not nullrating            | varchar   | not nulllast_update       | timestamp | not nullspecial_features  | text[]    | not null</code></pre><h3 id="desired-output">Desired Output</h3><p>The desired output should look like this:</p><pre><code>film_id | title                             | special_features                       |--------+-----------------------------------+----------------------------------------|   32   | A Shawshank Redemption            | {Trailers, Deleted Scenes}             |    14   | Monty Python and the Holy Grail   | {Trailers, Deleted Scenes}             |...</code></pre>